<!DOCTYPE html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>WebAssembly Example</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="styles.css">
	<link rel="stylesheet" href="led.css">
</head>

<body>

	<div class="dice dice-6"></div>
	<span>Click Dice To Roll</span>

	<!-- Include the JavaScript glue code. -->
	<!-- This will load the WebAssembly module and run its main. -->
	<script src="index.js"></script>
	<script>

		// When a HTML dice is clicked, it's value will change.
		var dice = document.querySelector('.dice');

		dice.addEventListener('click', function () {

			// Make a call to the roll_dice function from the C code.
			var result = _roll_dice();
			dice.className = "dice dice-" + result;

			_websetup();

		});
	</script>

	<script>
		function setLed(pos, data) {
			let tt = "";
			const s = "gfedcba".split("").map((a, i) => {
				tt += (data & 1 << i) ? 1 : "0";
				return (data & 1 << i) ? a : "";
			});

			const el = document.querySelector(`#display-${pos + 1}`);
			if (el) {
				el.setAttribute("data-display-seg", s);
			}
		}
	</script>

	<div id="vertical-center">
		<div id="clock-container">
			<div id="display-1" class="display-container display-size-12 display-no-A" data-display-seg="abc">
				<div class="segment-x segment-a"><span class="segment-border"></span></div>
				<div class="segment-y segment-b"><span class="segment-border"></span></div>
				<div class="segment-y segment-c"><span class="segment-border"></span></div>
				<div class="segment-x segment-d"><span class="segment-border"></span></div>
				<div class="segment-y segment-e"><span class="segment-border"></span></div>
				<div class="segment-y segment-f"><span class="segment-border"></span></div>
				<div class="segment-x segment-g"><span class="segment-border"></span></div>
			</div>
			<div id="display-2" class="display-container display-size-12 display-no-A">
				<div class="segment-x segment-a"><span class="segment-border"></span></div>
				<div class="segment-y segment-b"><span class="segment-border"></span></div>
				<div class="segment-y segment-c"><span class="segment-border"></span></div>
				<div class="segment-x segment-d"><span class="segment-border"></span></div>
				<div class="segment-y segment-e"><span class="segment-border"></span></div>
				<div class="segment-y segment-f"><span class="segment-border"></span></div>
				<div class="segment-x segment-g"><span class="segment-border"></span></div>
			</div>
			<div id="display-3" class="display-container display-size-12 display-no-A">
				<div class="segment-x segment-a"><span class="segment-border"></span></div>
				<div class="segment-y segment-b"><span class="segment-border"></span></div>
				<div class="segment-y segment-c"><span class="segment-border"></span></div>
				<div class="segment-x segment-d"><span class="segment-border"></span></div>
				<div class="segment-y segment-e"><span class="segment-border"></span></div>
				<div class="segment-y segment-f"><span class="segment-border"></span></div>
				<div class="segment-x segment-g"><span class="segment-border"></span></div>
			</div>
			<div id="display-4" class="display-container display-size-12 display-no-A">
				<div class="segment-x segment-a"><span class="segment-border"></span></div>
				<div class="segment-y segment-b"><span class="segment-border"></span></div>
				<div class="segment-y segment-c"><span class="segment-border"></span></div>
				<div class="segment-x segment-d"><span class="segment-border"></span></div>
				<div class="segment-y segment-e"><span class="segment-border"></span></div>
				<div class="segment-y segment-f"><span class="segment-border"></span></div>
				<div class="segment-x segment-g"><span class="segment-border"></span></div>
			</div>
			<div id="display-5" class="display-container display-size-12 display-no-A">
				<div class="segment-x segment-a"><span class="segment-border"></span></div>
				<div class="segment-y segment-b"><span class="segment-border"></span></div>
				<div class="segment-y segment-c"><span class="segment-border"></span></div>
				<div class="segment-x segment-d"><span class="segment-border"></span></div>
				<div class="segment-y segment-e"><span class="segment-border"></span></div>
				<div class="segment-y segment-f"><span class="segment-border"></span></div>
				<div class="segment-x segment-g"><span class="segment-border"></span></div>
			</div>
			<div id="display-6" class="display-container display-size-12 display-no-A">
				<div class="segment-x segment-a"><span class="segment-border"></span></div>
				<div class="segment-y segment-b"><span class="segment-border"></span></div>
				<div class="segment-y segment-c"><span class="segment-border"></span></div>
				<div class="segment-x segment-d"><span class="segment-border"></span></div>
				<div class="segment-y segment-e"><span class="segment-border"></span></div>
				<div class="segment-y segment-f"><span class="segment-border"></span></div>
				<div class="segment-x segment-g"><span class="segment-border"></span></div>
			</div>
		</div>
	</div>

</body>

</html>